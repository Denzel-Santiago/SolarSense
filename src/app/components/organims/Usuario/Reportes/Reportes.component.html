<div class="flex h-screen overflow-hidden">
  <app-side-nav></app-side-nav>

  <div class="flex-1 flex flex-col overflow-auto bg-gray-100">
    <!-- TÃ­tulo -->
    <div class="p-6 bg-[#1f3a2e] text-white flex justify-between items-center">
      <div class="text-3xl font-bold">REPORTES</div>
      <button (click)="generarReporte()" [disabled]="isLoading"
              class="flex items-center gap-2 bg-[#5A6F21] text-white px-4 py-2 rounded-lg hover:bg-green-800 disabled:opacity-60">
        <span class="text-xl">+</span> GENERAR NUEVO REPORTE
      </button>
    </div>

    <div class="p-6 bg-white space-y-10 flex-grow overflow-y-auto">
      <!-- Tabla de Reportes -->
      <div class="w-full max-w-7xl mx-auto rounded-2xl overflow-hidden border border-[#C2DB95] shadow-md">
        <table class="min-w-full text-sm text-left text-black text-center">
          <thead class="bg-[#5A6F21] text-white uppercase text-xs">
            <tr>
              <th class="px-4 py-3">NOMBRE DEL ARCHIVO</th>
              <th class="px-4 py-3">FECHA DE CREACION</th>
              <th class="px-4 py-3">OPCIONES</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let reporte of reportes; let i = index"
                [ngClass]="{ 'bg-[#F0FFCD]': i % 2 === 0, 'bg-[#8A9A5B]': i % 2 !== 0 }">
              <td class="px-4 py-3 font-semibold">Reporte {{ reportes.length - i }}</td>
              <td class="px-4 py-3">{{ reporte.created_at | date:'M/d/yy HH:mm' }}</td>
              <td class="px-4 py-3">
  <button (click)="descargarReporte(reporte.file_name)">
    <img src="assets/descargar.png" class="w-6 h-6 mx-auto hover:scale-110" alt="Descargar" />
  </button>
</td>

            </tr>
            <tr *ngFor="let empty of filasVaciasReportes">
              <td colspan="3" class="h-12 bg-[#8A9A5B]"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
